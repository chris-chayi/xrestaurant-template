(self.webpackChunkrestaurantUi=self.webpackChunkrestaurantUi||[]).push([[9948],{99948:function(e,t,i){"use strict";i.r(t),i.d(t,{BasketPageModule:function(){return g}});var o=i(38583),n=i(90665),r=i(36778),c=i(13068),s=i(10639),l=i(94204);function u(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ion-item-sliding"),s.TgZ(1,"ion-item",5),s.TgZ(2,"ion-text",17),s._uU(3),s.qZA(),s.TgZ(4,"ion-label",18),s._uU(5),s.qZA(),s.TgZ(6,"ion-text",19),s._uU(7),s.ALo(8,"currency"),s.qZA(),s.qZA(),s.TgZ(9,"ion-item-options",20),s.NdJ("ionSwipe",function(){const t=s.CHM(e).$implicit;return s.oxw().remove(t)}),s.TgZ(10,"ion-item-option",21),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().remove(t)}),s._uU(11,"Remove"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(3),s.hij(" ",e.amount,"x "),s.xp6(2),s.hij(" ",e.name," "),s.xp6(2),s.hij(" ",s.xi3(8,3,e.price,"USD")," ")}}const a=function(e){return{sum:e}},Z=[{path:"",component:(()=>{class e{constructor(e){this.basketService=e,this.cart=[],this.sum=0,this.tip=0,this.deliveryFee=2.5,this.serviceFee=.65,this.cartItems=[]}ngOnInit(){this.basketService.getSum().subscribe(e=>{this.sum=e}),this.basketService.getBasket().subscribe(e=>{const t={};this.cartItems=[];for(let i of e)t[i.id]?t[i.id].amount+=1:t[i.id]={amount:1,...i};for(const[i,o]of Object.entries(t))this.cartItems.push(o)})}addTip(){this.tip+=1}removeTip(){this.tip>0&&(this.tip-=1)}remove(e){this.basketService.removeItem(e.id)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(l.v))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-basket"]],decls:45,vars:20,consts:[["color","primary"],["slot","start"],["defaultHref","/","icon","arrow-back","color","light","text",""],[1,"order"],[4,"ngFor","ngForOf"],["lines","none"],["slot","end","color","medium"],["color","light"],[1,"ion-align-items-center"],["size","6",1,"ion-text-left"],["name","happy-outline"],["size","6",1,"ion-text-right","flex-end"],["size","small","fill","clear","color","primary",3,"click"],["name","remove-circle-outline","slot","icon-only"],["name","add-circle-outline","slot","icon-only"],["size","6",1,"ion-text-right"],["expand","block","strong","true","routerLink","/checkout","color","primary",3,"state"],["slot","start","color","primary"],["color","dark"],["slot","end","color","dark"],["side","end",3,"ionSwipe"],["color","danger","expandable","",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button",2),s.qZA(),s.TgZ(4,"ion-title"),s._uU(5,"Basket"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content"),s.TgZ(7,"div",3),s.YNc(8,u,12,6,"ion-item-sliding",4),s.TgZ(9,"ion-item",5),s.TgZ(10,"ion-label"),s._uU(11," Delivery fee "),s.qZA(),s.TgZ(12,"ion-text",6),s._uU(13),s.ALo(14,"currency"),s.qZA(),s.qZA(),s.TgZ(15,"ion-item",5),s.TgZ(16,"ion-label"),s._uU(17," Service fee "),s.qZA(),s.TgZ(18,"ion-text",6),s._uU(19),s.ALo(20,"currency"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(21,"ion-footer"),s.TgZ(22,"ion-toolbar",7),s.TgZ(23,"ion-row",8),s.TgZ(24,"ion-col",9),s.TgZ(25,"ion-label"),s._uU(26,"Rider Tip "),s._UZ(27,"ion-icon",10),s.qZA(),s.qZA(),s.TgZ(28,"ion-col",11),s.TgZ(29,"ion-button",12),s.NdJ("click",function(){return t.removeTip()}),s._UZ(30,"ion-icon",13),s.qZA(),s.TgZ(31,"ion-button",12),s.NdJ("click",function(){return t.addTip()}),s._UZ(32,"ion-icon",14),s.qZA(),s.TgZ(33,"span"),s._uU(34),s.ALo(35,"currency"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"ion-row"),s.TgZ(37,"ion-col",9),s._uU(38," Order Total "),s.qZA(),s.TgZ(39,"ion-col",15),s.TgZ(40,"b"),s._uU(41),s.ALo(42,"currency"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(43,"ion-button",16),s._uU(44," Go to Checkout"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngForOf",t.cartItems),s.xp6(5),s.hij(" ",s.xi3(14,6,t.deliveryFee,"USD")," "),s.xp6(6),s.hij(" ",s.xi3(20,9,t.serviceFee,"USD")," "),s.xp6(15),s.Oqu(s.xi3(35,12,t.tip,"USD")),s.xp6(7),s.Oqu(s.xi3(42,15,t.sum+t.tip+t.deliveryFee+t.serviceFee,"USD")),s.xp6(2),s.Q6J("state",s.VKq(18,a,t.sum+t.tip+t.deliveryFee+t.serviceFee)))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,o.sg,r.Ie,r.Q$,r.yW,r.fr,r.Nd,r.wI,r.gu,r.YG,r.YI,c.rH,r.td,r.IK,r.u8],pipes:[o.H9],styles:["ion-content[_ngcontent-%COMP%]{--background:#faf9fa}.order[_ngcontent-%COMP%]{background:#fff;margin-top:20px;border-top:1px solid #00000012;border-bottom:1px solid #00000012}.flex-end[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}"]}),e})()}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[c.Bz.forChild(Z)],c.Bz]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,n.u5,r.Pc,p]]}),e})()}}]);