(self.webpackChunkrestaurantUi=self.webpackChunkrestaurantUi||[]).push([[2071],{2071:function(t,o,e){"use strict";e.r(o),e.d(o,{CheckoutPageModule:function(){return m}});var n=e(38583),r=e(90665),i=e(36778),a=e(13068),s=e(16304),c=e(10639),l=e(94204);const u=["orderbar"],g=["successbar"];function d(t,o){1&t&&c._UZ(0,"ion-backdrop")}const p=[{path:"",component:(()=>{class t{constructor(t,o,e,n,r,i){this.route=t,this.router=o,this.animationCtrl=e,this.navCtrl=n,this.alertCtrl=r,this.basketService=i,this.total=0,this.progress=0,this.route.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.total=this.router.getCurrentNavigation().extras.state.sum)})}ngOnInit(){}startOrder(){const t=this.animationCtrl.create("move").addElement(this.orderBar.nativeElement).fromTo("opacity",1,0).fromTo("left","0","-100vw"),o=this.animationCtrl.create("success").addElement(this.successBar.nativeElement).fromTo("left","*",0).afterClearStyles(["success-bar"]);this.animationCtrl.create("wrapper").duration(400).easing("ease-in").addAnimation([t,o]).play().then(()=>{this.fakeProgress()})}fakeProgress(){this.progress>=1?this.close():setTimeout(()=>{this.progress+=.01,this.fakeProgress()},20)}close(){var t=this;return(0,s.Z)(function*(){const o=yield t.alertCtrl.create({header:"Order submitted",message:"Your order should arrive in 30-45 minutes!",buttons:["Ok"]});yield o.present(),t.basketService.clearCart(),t.navCtrl.setDirection("root"),t.router.navigateByUrl("/home")})()}}return t.\u0275fac=function(o){return new(o||t)(c.Y36(a.gz),c.Y36(a.F0),c.Y36(i.vB),c.Y36(i.SH),c.Y36(i.Br),c.Y36(l.v))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-checkout"]],viewQuery:function(t,o){if(1&t&&(c.Gf(u,5,c.SBq),c.Gf(g,5,c.SBq)),2&t){let t;c.iGM(t=c.CRH())&&(o.orderBar=t.first),c.iGM(t=c.CRH())&&(o.successBar=t.first)}},decls:49,vars:6,consts:[["color","primary"],["slot","start"],["defaultHref","/basket","icon","arrow-back","color","light","text",""],[4,"ngIf"],["lines","none"],[1,"ion-text-wrap"],["slot","end"],["color","dark",1,"header"],["lines","none","detail","true"],["name","home-outline","slot","start"],["name","logo-paypal","slot","start"],["name","logo-bitcoin","slot","start"],["color","light"],["orderbar",""],["size","6",1,"ion-text-left"],["color","medium"],["size","6",1,"ion-text-right"],["expand","block","strong","true","color","primary",3,"click"],["color","light",1,"success-bar"],["successbar",""],["color","primary",3,"value"]],template:function(t,o){1&t&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-buttons",1),c._UZ(3,"ion-back-button",2),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Checkout"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content"),c.YNc(7,d,1,0,"ion-backdrop",3),c.TgZ(8,"ion-list"),c.TgZ(9,"ion-item",4),c.TgZ(10,"ion-label",5),c._uU(11," Tick this box of you would not like to receive Deliveroo marketing offers and promotions via email. "),c.qZA(),c._UZ(12,"ion-checkbox",6),c.qZA(),c.qZA(),c.TgZ(13,"ion-label",7),c._uU(14,"Deliver to"),c.qZA(),c.TgZ(15,"ion-list"),c.TgZ(16,"ion-item",8),c._UZ(17,"ion-icon",9),c.TgZ(18,"ion-label"),c._uU(19,"Add an Address"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(20,"ion-label",7),c._uU(21,"Payment"),c.qZA(),c.TgZ(22,"ion-list"),c.TgZ(23,"ion-item",4),c._UZ(24,"ion-icon",10),c.TgZ(25,"ion-label"),c._uU(26,"PayPal"),c.qZA(),c.qZA(),c.TgZ(27,"ion-item",4),c._UZ(28,"ion-icon",11),c.TgZ(29,"ion-label"),c._uU(30,"Bitcoin"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"ion-footer"),c.TgZ(32,"ion-toolbar",12,13),c.TgZ(34,"ion-row"),c.TgZ(35,"ion-col",14),c.TgZ(36,"ion-label",15),c._uU(37,"Total"),c.qZA(),c.qZA(),c.TgZ(38,"ion-col",16),c.TgZ(39,"b"),c._uU(40),c.ALo(41,"currency"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"ion-button",17),c.NdJ("click",function(){return o.startOrder()}),c._uU(43," Pay now"),c.qZA(),c.qZA(),c.TgZ(44,"ion-toolbar",18,19),c.TgZ(46,"ion-label",15),c._uU(47,"Submitting your order..."),c.qZA(),c._UZ(48,"ion-progress-bar",20),c.qZA(),c.qZA()),2&t&&(c.xp6(7),c.Q6J("ngIf",o.progress>0),c.xp6(33),c.Oqu(c.xi3(41,3,o.total,"EUR")),c.xp6(8),c.Q6J("value",o.progress))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,n.O5,i.q_,i.Ie,i.Q$,i.nz,i.w,i.gu,i.fr,i.Nd,i.wI,i.YG,i.X7,i.ql],pipes:[n.H9],styles:["ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:40px}ion-content[_ngcontent-%COMP%]{--background:#faf9fa;--padding-top:20px}ion-checkbox[_ngcontent-%COMP%]{--border-radius:4px;--checkmark-width:2px}ion-item[_ngcontent-%COMP%]{--detail-icon-color:var(--ion-color-primary);--detail-icon-opacity:1}ion-list[_ngcontent-%COMP%]{border-top:1px solid #00000012;border-bottom:1px solid #00000012;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{font-weight:600;font-size:large;padding:20px}.success-bar[_ngcontent-%COMP%]{position:absolute;left:100vw;top:0;text-align:center;padding-left:50px;padding-right:50px}ion-backdrop[_ngcontent-%COMP%]{opacity:.6;--ion-backdrop-color:#fff}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.Bz.forChild(p)],a.Bz]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[n.ez,r.u5,i.Pc,Z]]}),t})()}}]);