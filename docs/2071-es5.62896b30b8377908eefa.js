!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(self.webpackChunkrestaurantUi=self.webpackChunkrestaurantUi||[]).push([[2071],{2071:function(o,n,r){"use strict";r.r(n),r.d(n,{CheckoutPageModule:function(){return v}});var i=r(38583),a=r(90665),s=r(36778),c=r(13068),l=r(16304),u=r(10639),g=r(94204),p=["orderbar"],f=["successbar"];function d(t,e){1&t&&u._UZ(0,"ion-backdrop")}var Z,m,b=[{path:"",component:(Z=function(){function o(e,n,r,i,a,s){var c=this;t(this,o),this.route=e,this.router=n,this.animationCtrl=r,this.navCtrl=i,this.alertCtrl=a,this.basketService=s,this.total=0,this.progress=0,this.route.queryParams.subscribe(function(t){c.router.getCurrentNavigation().extras.state&&(c.total=c.router.getCurrentNavigation().extras.state.sum)})}var n,r,i;return n=o,(r=[{key:"ngOnInit",value:function(){}},{key:"startOrder",value:function(){var t=this,e=this.animationCtrl.create("move").addElement(this.orderBar.nativeElement).fromTo("opacity",1,0).fromTo("left","0","-100vw"),o=this.animationCtrl.create("success").addElement(this.successBar.nativeElement).fromTo("left","*",0).afterClearStyles(["success-bar"]);this.animationCtrl.create("wrapper").duration(400).easing("ease-in").addAnimation([e,o]).play().then(function(){t.fakeProgress()})}},{key:"fakeProgress",value:function(){var t=this;this.progress>=1?this.close():setTimeout(function(){t.progress+=.01,t.fakeProgress()},20)}},{key:"close",value:function(){var t=this;return(0,l.Z)(regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.alertCtrl.create({header:"Order submitted",message:"Your order should arrive in 30-45 minutes!",buttons:["Ok"]});case 2:return o=e.sent,e.next=5,o.present();case 5:t.basketService.clearCart(),t.navCtrl.setDirection("root"),t.router.navigateByUrl("/home");case 8:case"end":return e.stop()}},e)}))()}}])&&e(n.prototype,r),i&&e(n,i),o}(),Z.\u0275fac=function(t){return new(t||Z)(u.Y36(c.gz),u.Y36(c.F0),u.Y36(s.vB),u.Y36(s.SH),u.Y36(s.Br),u.Y36(g.v))},Z.\u0275cmp=u.Xpm({type:Z,selectors:[["app-checkout"]],viewQuery:function(t,e){var o;1&t&&(u.Gf(p,5,u.SBq),u.Gf(f,5,u.SBq)),2&t&&(u.iGM(o=u.CRH())&&(e.orderBar=o.first),u.iGM(o=u.CRH())&&(e.successBar=o.first))},decls:49,vars:6,consts:[["color","primary"],["slot","start"],["defaultHref","/basket","icon","arrow-back","color","light","text",""],[4,"ngIf"],["lines","none"],[1,"ion-text-wrap"],["slot","end"],["color","dark",1,"header"],["lines","none","detail","true"],["name","home-outline","slot","start"],["name","logo-paypal","slot","start"],["name","logo-bitcoin","slot","start"],["color","light"],["orderbar",""],["size","6",1,"ion-text-left"],["color","medium"],["size","6",1,"ion-text-right"],["expand","block","strong","true","color","primary",3,"click"],["color","light",1,"success-bar"],["successbar",""],["color","primary",3,"value"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar",0),u.TgZ(2,"ion-buttons",1),u._UZ(3,"ion-back-button",2),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5,"Checkout"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"ion-content"),u.YNc(7,d,1,0,"ion-backdrop",3),u.TgZ(8,"ion-list"),u.TgZ(9,"ion-item",4),u.TgZ(10,"ion-label",5),u._uU(11," Tick this box of you would not like to receive Deliveroo marketing offers and promotions via email. "),u.qZA(),u._UZ(12,"ion-checkbox",6),u.qZA(),u.qZA(),u.TgZ(13,"ion-label",7),u._uU(14,"Deliver to"),u.qZA(),u.TgZ(15,"ion-list"),u.TgZ(16,"ion-item",8),u._UZ(17,"ion-icon",9),u.TgZ(18,"ion-label"),u._uU(19,"Add an Address"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"ion-label",7),u._uU(21,"Payment"),u.qZA(),u.TgZ(22,"ion-list"),u.TgZ(23,"ion-item",4),u._UZ(24,"ion-icon",10),u.TgZ(25,"ion-label"),u._uU(26,"PayPal"),u.qZA(),u.qZA(),u.TgZ(27,"ion-item",4),u._UZ(28,"ion-icon",11),u.TgZ(29,"ion-label"),u._uU(30,"Bitcoin"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"ion-footer"),u.TgZ(32,"ion-toolbar",12,13),u.TgZ(34,"ion-row"),u.TgZ(35,"ion-col",14),u.TgZ(36,"ion-label",15),u._uU(37,"Total"),u.qZA(),u.qZA(),u.TgZ(38,"ion-col",16),u.TgZ(39,"b"),u._uU(40),u.ALo(41,"currency"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(42,"ion-button",17),u.NdJ("click",function(){return e.startOrder()}),u._uU(43," Pay now"),u.qZA(),u.qZA(),u.TgZ(44,"ion-toolbar",18,19),u.TgZ(46,"ion-label",15),u._uU(47,"Submitting your order..."),u.qZA(),u._UZ(48,"ion-progress-bar",20),u.qZA(),u.qZA()),2&t&&(u.xp6(7),u.Q6J("ngIf",e.progress>0),u.xp6(33),u.Oqu(u.xi3(41,3,e.total,"EUR")),u.xp6(8),u.Q6J("value",e.progress))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,i.O5,s.q_,s.Ie,s.Q$,s.nz,s.w,s.gu,s.fr,s.Nd,s.wI,s.YG,s.X7,s.ql],pipes:[i.H9],styles:["ion-footer[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-bottom:40px}ion-content[_ngcontent-%COMP%]{--background:#faf9fa;--padding-top:20px}ion-checkbox[_ngcontent-%COMP%]{--border-radius:4px;--checkmark-width:2px}ion-item[_ngcontent-%COMP%]{--detail-icon-color:var(--ion-color-primary);--detail-icon-opacity:1}ion-list[_ngcontent-%COMP%]{border-top:1px solid #00000012;border-bottom:1px solid #00000012;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{font-weight:600;font-size:large;padding:20px}.success-bar[_ngcontent-%COMP%]{position:absolute;left:100vw;top:0;text-align:center;padding-left:50px;padding-right:50px}ion-backdrop[_ngcontent-%COMP%]{opacity:.6;--ion-backdrop-color:#fff}"]}),Z)}],h=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[c.Bz.forChild(b)],c.Bz]}),e}(),v=((m=function e(){t(this,e)}).\u0275fac=function(t){return new(t||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({imports:[[i.ez,a.u5,s.Pc,h]]}),m)}}])}();